<!doctype html>
<html lang="zh-Hant" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>èœœæ¡ƒå¿«é€ƒRPGï½œç™»å…¥</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    @keyframes floatUp {
      from { transform: translateY(100%); opacity: 0; }
      to { transform: translateY(-120px); opacity: 0.4; }
    }

    .peach {
      position: absolute;
      animation: floatUp linear infinite;
      pointer-events: none;
    }
  </style>
</head>

<body class="h-full flex items-center justify-center"
  style="background: linear-gradient(to bottom, #87CEEB 0%, #E0F6FF 40%, #90EE90 70%, #228B22 100%);">

  <!-- èƒŒæ™¯æ¡ƒå­ -->
  <span class="peach text-2xl" style="left:10%; animation-duration:18s;">ğŸ‘</span>
  <span class="peach text-3xl" style="left:40%; animation-duration:22s;">ğŸ‘</span>
  <span class="peach text-xl" style="left:70%; animation-duration:20s;">ğŸ‘</span>

  <!-- ç™»å…¥å¡ç‰‡ -->
  <div class="relative z-10 w-full max-w-sm mx-4 rounded-3xl p-6 shadow-xl"
       style="background-color:#fff1f3;">
    
    <h1 class="text-3xl font-bold text-center mb-2" style="color:#ff6b9d;">
      ğŸ‘ èœœæ¡ƒå¿«é€ƒ RPG
    </h1>
    <p class="text-center mb-6" style="color:#ff9eb5;">
      è«‹è¼¸å…¥ä½ çš„æ¡ƒå
    </p>

    <!-- å·²ç™»å…¥ç‹€æ…‹ -->
    <div id="logged-in" class="hidden text-center">
      <p class="mb-4 text-lg">
        æ­¡è¿å›ä¾†ï¼Œ
        <span id="current-user" class="font-bold" style="color:#ff6b9d;"></span>
      </p>
      <button onclick="enterGame()"
        class="w-full py-3 rounded-xl text-white text-lg font-semibold mb-3"
        style="background-color:#ffb6c9;">
        ğŸ® ç¹¼çºŒå†’éšª
      </button>
      <button onclick="logout()"
        class="w-full py-2 rounded-xl text-sm"
        style="background-color:#ffe5ec; color:#ff6b9d;">
        åˆ‡æ›å¸³è™Ÿ
      </button>
    </div>

    <!-- ç™»å…¥è¡¨å–® -->
    <div id="login-form">
      <input id="username"
        class="w-full mb-4 px-4 py-3 rounded-xl border-none text-center text-lg"
        style="background-color:#ffe5ec;"
        placeholder="ä¾‹å¦‚ï¼šèœœæ¡ƒå°å‹‡è€… ğŸ‘"
        maxlength="12"/>

      <button onclick="login()"
        class="w-full py-3 rounded-xl text-white text-lg font-semibold mb-3"
        style="background-color:#ffb6c9;">
        ğŸ‘ é€²å…¥éŠæˆ²
      </button>

      <button onclick="guestLogin()"
        class="w-full py-2 rounded-xl text-sm"
        style="background-color:#ffe5ec; color:#ff6b9d;">
        ğŸ‘¤ è¨ªå®¢æ¨¡å¼
      </button>
    </div>
  </div>

  <script>
    const USER_KEY = 'peach_user';

    function login() {
      const name = document.getElementById('username').value.trim();
      if (!name) return alert('è«‹è¼¸å…¥æ¡ƒå ğŸ‘');

      const userId = 'user_' + name;
      localStorage.setItem(USER_KEY, userId);
      localStorage.setItem(USER_KEY + '_name', name);

      enterGame();
    }

    function guestLogin() {
      localStorage.setItem(USER_KEY, 'guest');
      localStorage.setItem(USER_KEY + '_name', 'è¨ªå®¢');
      enterGame();
    }

    function logout() {
      localStorage.removeItem(USER_KEY);
      localStorage.removeItem(USER_KEY + '_name');
      location.reload();
    }

    function enterGame() {
      location.href = 'index.html'; // â† ä½ çš„éŠæˆ²ä¸»é 
    }

    // åˆå§‹åŒ–
    const existingUser = localStorage.getItem(USER_KEY);
    if (existingUser) {
      document.getElementById('login-form').classList.add('hidden');
      document.getElementById('logged-in').classList.remove('hidden');
      document.getElementById('current-user').textContent =
        localStorage.getItem(USER_KEY + '_name') || existingUser;
    }
  </script>
</body>
</html>
